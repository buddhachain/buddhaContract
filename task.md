# task

2021-02-10
工时：2h
1. 测试
    经过30多个小时的插入操作。插入到600多万条记录，成功的预估在10%左右。也就是成成功插入50万条左右。
    目前没有办法获取插入的总条数。因为在scan所有时，gas的值需要非常大才能完成此项任务，且话费的时间超长，目前无法估计。
    查询效率依旧非常高。均不到1秒即可完成查询。

    此次测试结果有带进一步确认。后续会设计在保证插入正确率的情况下，插入50万条左右的数据。再进一步确认此结果。
    基本可以确定的是，数据量超大的情况下，无法获取记录的总条数；另外查询效率不是问题；插入效率在数据量大的情况下，需要进一步确认。

2. 添加带权限的list_founder，list_master,list_kinddeed_proof,list_kinddeed,list_suborder,list_order的接口，方便后太进行合约内表数据查询。
   此种函数存在性能问题。不到万不得已，不推荐使用。

3. 单进程表数据插入测试，及查询测试。
    重启单线程插入表数据测试。当测试条目超过100万后。再进行一次查询测试。



代码已经上传

明日计划:
2. 性能测试
3. 调研平行链


提示：
- 精度不在合约内体现。所有的精度问题由外部决定。外部可以任意更换精度。
- 目前正常流程，基本测试通过。非正常流程尚未测试，预估存在诸多bug。不排除依旧存在重构的可能性。

问题：
1. 拒绝成为基金会成员时，直接删除表项，表中无法记录拒绝的原因。
2. 拒绝成为法师时，直接删除表项，表中无法记录拒绝的原因。
